/* Import global scrolling styles */
@import './styles/scrolling.css';

/* Import global typography styles */
@import './styles/typography.css';

/* Global 15% font size increase - OVERRIDE EVERYTHING */
html {
  font-size: 18.4px !important; /* Base 16px * 1.15 = 18.4px */
}

body {
  font-size: 18.4px !important;
}

/* Force all elements to use larger sizes */
* {
  font-size: inherit;
}

/* Ultra high specificity universal override */
html body * {
  font-size: unset !important;
}

/* Reset and reapply to all text elements */
html body p,
html body span,
html body div,
html body a,
html body li,
html body td,
html body th,
html body label,
html body button,
html body input,
html body select,
html body textarea {
  font-size: 18.4px !important;
}

/* Force specific elements that might have inline styles */
div, span, p, a, li, td, th, label {
  font-size: inherit;
}

/* Override any rem-based sizes */
[class*="text-"] {
  font-size: inherit;
}

/* Specific overrides for Tailwind classes */
.text-xs { font-size: 13.8px !important; }
.text-sm { font-size: 16.1px !important; }
.text-base { font-size: 18.4px !important; }
.text-lg { font-size: 20.7px !important; }
.text-xl { font-size: 23px !important; }
.text-2xl { font-size: 27.6px !important; }
.text-3xl { font-size: 34.5px !important; }
.text-4xl { font-size: 41.4px !important; }
.text-5xl { font-size: 55.2px !important; }
.text-6xl { font-size: 69px !important; }

/* Headings */
h1 { font-size: 41.4px !important; }
h2 { font-size: 34.5px !important; }
h3 { font-size: 27.6px !important; }
h4 { font-size: 23px !important; }
h5 { font-size: 20.7px !important; }
h6 { font-size: 18.4px !important; }

/* Form elements */
input, textarea, select, button {
  font-size: 18.4px !important;
}

/* Table elements */
table, thead, tbody, tfoot, tr, td, th {
  font-size: inherit !important;
}

/* Common UI elements */
.btn, .button, .link {
  font-size: inherit !important;
}

/* Material icons and symbols - don't scale */
.material-icons, .material-symbols-outlined {
  font-size: 24px !important;
}

/* Override inline styles with more specific selectors - handles both old and new values */
[style*="fontSize: '10px'"], [style*="fontSize: '11.5px'"] { font-size: 11.5px !important; }
[style*="fontSize: '11px'"], [style*="fontSize: '12.65px'"] { font-size: 12.65px !important; }
[style*="fontSize: '12px'"], [style*="fontSize: '13.8px'"] { font-size: 13.8px !important; }
[style*="fontSize: '13px'"], [style*="fontSize: '14.95px'"] { font-size: 14.95px !important; }
[style*="fontSize: '14px'"], [style*="fontSize: '16.1px'"] { font-size: 16.1px !important; }
[style*="fontSize: '16px'"], [style*="fontSize: '18.4px'"] { font-size: 18.4px !important; }
[style*="fontSize: '18px'"], [style*="fontSize: '20.7px'"] { font-size: 20.7px !important; }
[style*="fontSize: '20px'"], [style*="fontSize: '23px'"] { font-size: 23px !important; }
[style*="fontSize: '24px'"], [style*="fontSize: '27.6px'"] { font-size: 27.6px !important; }
[style*="fontSize: '28px'"], [style*="fontSize: '32.2px'"] { font-size: 32.2px !important; }
[style*="fontSize: '32px'"], [style*="fontSize: '36.8px'"] { font-size: 36.8px !important; }
[style*="fontSize: '48px'"], [style*="fontSize: '55.2px'"] { font-size: 55.2px !important; }

/* Prevent iOS zoom - keep at 16px minimum */
@media screen and (max-width: 768px) {
  input[type="text"],
  input[type="email"],
  input[type="password"],
  input[type="tel"],
  input[type="number"],
  input[type="search"],
  input[type="url"],
  input[type="date"],
  input[type="time"],
  textarea,
  select {
    font-size: 16px !important;
  }
}

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  /* Custom scrollbar for better mobile experience */
  ::-webkit-scrollbar {
    width: 6px;
    height: 6px;
  }

  ::-webkit-scrollbar-track {
    @apply bg-gray-100;
  }

  ::-webkit-scrollbar-thumb {
    @apply bg-gray-400 rounded-full;
  }

  ::-webkit-scrollbar-thumb:hover {
    @apply bg-gray-500;
  }

  /* iOS Scrolling Optimization */
  .ios-scroll {
    -webkit-overflow-scrolling: touch;
    overflow-y: auto;
    overflow-x: hidden;
  }
  
  /* Prevent iOS bounce at boundaries */
  .scroll-container {
    overscroll-behavior-y: contain;
  }
  
  /* Fix for full height layout */
  html, body {
    height: 100%;
    margin: 0;
  }
  
  #root {
    height: 100%;
    display: flex;
    flex-direction: column;
  }

  /* Improve tap highlighting on mobile */
  * {
    -webkit-tap-highlight-color: transparent;
  }

  /* Ensure inputs zoom is disabled on iOS */
  input[type="text"],
  input[type="email"],
  input[type="password"],
  input[type="tel"],
  input[type="number"],
  input[type="search"],
  input[type="url"],
  textarea,
  select {
    font-size: 16px !important;
  }

  /* Focus styles for accessibility */
  *:focus {
    outline: none;
  }

  *:focus-visible {
    @apply ring-2 ring-primary-500 ring-offset-2;
  }
}

@layer components {
  /* Common button styles */
  .btn {
    @apply inline-flex items-center justify-center px-4 py-2 border border-transparent text-sm font-medium rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 transition-colors min-h-touch min-w-touch;
  }

  .btn-primary {
    @apply btn bg-primary-600 text-white hover:bg-primary-700 focus:ring-primary-500;
  }

  .btn-secondary {
    @apply btn bg-white text-gray-700 border-gray-300 hover:bg-gray-50 focus:ring-primary-500;
  }

  .btn-danger {
    @apply btn bg-error text-white hover:bg-red-600 focus:ring-red-500;
  }

  /* Form input styles */
  .form-input {
    @apply block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500 sm:text-sm;
  }

  .form-label {
    @apply block text-sm font-medium text-gray-700 mb-1;
  }

  .form-error {
    @apply mt-1 text-sm text-error;
  }

  /* Card styles */
  .card {
    @apply bg-white shadow rounded-lg;
  }

  .card-body {
    @apply p-4 sm:p-6;
  }

  /* List item styles */
  .list-item {
    @apply block px-4 py-3 hover:bg-gray-50 active:bg-gray-100 transition-colors;
  }

  /* Status badge styles */
  .badge {
    @apply inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium;
  }

  .badge-gray {
    @apply bg-gray-100 text-gray-800;
  }

  .badge-blue {
    @apply bg-blue-100 text-blue-800;
  }

  .badge-yellow {
    @apply bg-yellow-100 text-yellow-800;
  }

  .badge-green {
    @apply bg-green-100 text-green-800;
  }

  .badge-orange {
    @apply bg-orange-100 text-orange-800;
  }

  /* Loading skeleton */
  .skeleton {
    @apply animate-pulse bg-gray-200 rounded;
  }

  /* Offline indicator */
  .offline-indicator {
    @apply fixed top-0 left-0 right-0 bg-yellow-500 text-white text-sm py-1 px-4 text-center z-50;
  }

  /* Bottom navigation for mobile */
  .bottom-nav {
    @apply fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 px-safe-left px-safe-right pb-safe-bottom;
  }

  .bottom-nav-item {
    @apply flex flex-col items-center justify-center py-2 px-3 text-xs;
  }

  .bottom-nav-item-active {
    @apply text-primary-600;
  }

  /* Safe area for bottom padding */
  .safe-area-bottom {
    padding-bottom: env(safe-area-inset-bottom, 0px);
  }
  
  /* Force tab bar to be visible */
  nav.fixed {
    position: fixed !important;
    bottom: 0 !important;
    left: 0 !important;
    right: 0 !important;
  }

  /* Pull to refresh styles */
  .ptr-element {
    @apply absolute left-0 top-0 w-full text-center;
  }

  .ptr-refresh {
    @apply inline-block w-8 h-8;
  }
}

@layer utilities {
  /* Safe area utilities */
  .pt-safe {
    padding-top: env(safe-area-inset-top);
  }

  .pb-safe {
    padding-bottom: env(safe-area-inset-bottom);
  }

  .pl-safe {
    padding-left: env(safe-area-inset-left);
  }

  .pr-safe {
    padding-right: env(safe-area-inset-right);
  }

  /* Touch target optimization */
  .min-touch {
    min-height: 48px;
    min-width: 48px;
  }

  /* High contrast mode for outdoor visibility */
  .high-contrast {
    @apply contrast-125 brightness-110;
  }

  /* Utility for hiding scrollbars */
  .no-scrollbar {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }

  .no-scrollbar::-webkit-scrollbar {
    display: none;
  }
}

/* Mobile-specific scrolling fixes */
.scrollable-content {
  -webkit-overflow-scrolling: touch;
  overflow-y: auto;
  overflow-x: hidden;
  overscroll-behavior-y: contain;
}

/* Ensure proper height calculation */
.full-height-container {
  height: 100%;
  display: flex;
  flex-direction: column;
}

/* Font sizes are now handled in typography.css and tailwind.config.js */